<!DOCTYPE html>
<html lang="uz">

<head>
    <script src="https://static.readdy.ai/static/e.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"Uzum Market — O‘zbekistondagi Internet-do'kon va Marketpleys" </title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#8b5cf6'
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
    <style>
        :where([class^="ri-"])::before {
            content: "\f3c2";
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div class="w-64 bg-white shadow-lg border-r border-gray-200 flex flex-col">
            <!-- Logo -->
            <div class="p-6 border-b border-gray-200">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="ri-store-3-line text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="font-['Pacifico'] text-xl text-gray-900">MENG</h1>
                        <p class="text-xs text-gray-500">ONLINE SHOP</p>
                    </div>
                </div>
            </div>
            <!-- Navigation Menu -->
            <nav class="flex-1 px-4 py-6 space-y-2">
                <a href="{% url 'dashboard' %}" data-readdy="true"
                    class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-gray-700 hover:bg-gray-100">
                    <div class="w-5 h-5 flex items-center justify-center">
                        <i class="ri-dashboard-line"></i>
                    </div>
                    <span class="font-medium">Dashboard</span>
                </a>
                <a href="{# url 'mahsulotlar' #}" data-readdy="true"
                    class="flex items-center space-x-3 px-3 py-2.5 rounded-lg bg-primary text-white">
                    <div class="w-5 h-5 flex items-center justify-center">
                        <i class="ri-box-3-line"></i>
                    </div>
                    <span class="font-medium">Mahsulotlar</span>
                </a>
                <a href="{% url 'buyurtmalar' %}" data-readdy="true"
                    class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-gray-700 hover:bg-gray-100">
                    <div class="w-5 h-5 flex items-center justify-center">
                        <i class="ri-shopping-cart-line"></i>
                    </div>
                    <span class="font-medium">Buyurtmalar</span>
                </a>
                <a href="{% url 'mijozlar' %}"
                    class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-gray-700 hover:bg-gray-100">
                    <div class="w-5 h-5 flex items-center justify-center">
                        <i class="ri-user-line"></i>
                    </div>
                    <span class="font-medium">Mijozlar</span>
                </a>

                <a href="{% url 'hisobotlar' %}"
                    class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-gray-700 hover:bg-gray-100">
                    <div class="w-5 h-5 flex items-center justify-center">
                        <i class="ri-bar-chart-line"></i>
                    </div>
                    <span class="font-medium">Hisobotlar</span>
                </a>

            </nav>
        </div>
        <!-- Main Content -->
        <div class="flex-1 flex flex-col">
            <!-- Top Navbar -->
            <header class="bg-white shadow-sm border-b border-gray-200 px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <h2 class="text-2xl font-bold text-gray-900">Mahsulotlar boshqaruvi</h2>
                        <div class="relative">
                            <input type="text" placeholder="Mahsulotlarni qidirish..."
                                class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-80 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                            <div
                                class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 flex items-center justify-center">
                                <i class="ri-search-line text-gray-400 text-sm"></i>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button class="relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="ri-notification-line"></i>
                            </div>
                            <span
                                class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center">3</span>
                        </button>
                        <button class="p-2 text-gray-600 hover:bg-gray-100 rounded-lg">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="ri-settings-line"></i>
                            </div>
                        </button>
                        <div class="flex items-center space-x-3">
                            <img src="https://readdy.ai/api/search-image?query=professional%20business%20person%20avatar%20portrait%20with%20clean%20background%20modern%20corporate%20headshot&width=40&height=40&seq=admin-avatar&orientation=squarish"
                                alt="Admin" class="w-10 h-10 rounded-full object-cover">
                            <div>
                                <p class="font-medium text-gray-900">{{ request.user.username }}</p>
                                <p class="text-sm text-gray-500">Administrator</p>
                            </div>
                        </div>
                        <a href="{% url 'logout' %}">
                            <button class="p-2 text-gray-600 hover:bg-gray-100 rounded-lg">
                                <div class="w-5 h-5 flex items-center justify-center">
                                    <i class="ri-logout-box-line"></i>
                                </div>
                            </button>
                        </a>
                    </div>
                </div>
            </header>
            <!-- Main Content Area -->
            <main class="flex-1 p-6 overflow-y-auto">
                <!-- Statistics Cards -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600">Umumiy mahsulotlar</p>
                                <p class="text-2xl font-bold text-gray-900">{{ total_items }}</p>
                                <p class="text-sm text-blue-600 mt-1">+23 yangi qo'shildi</p>
                            </div>
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                <i class="ri-box-3-line text-blue-600 text-xl"></i>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">

                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600">Faol mahsulotlar</p>
                                <p class="text-2xl font-bold text-gray-900">{{ faol_mahsulotlar.count }}</p>

                                <p class="text-sm text-green-600 mt-1">87.9% faol</p>
                            </div>
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                <i class="ri-check-line text-green-600 text-xl"></i>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600">Nofaol mahsulotlar</p>
                                <p class="text-2xl font-bold text-gray-900">{{ nofaol_mahsulotlar.count }}</p>
                                <p class="text-sm text-red-600 mt-1">12.1% nofaol</p>
                            </div>
                            <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                                <i class="ri-close-line text-red-600 text-xl"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Controls Section -->
                <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200 mb-6">
                    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                        <div class="flex flex-col sm:flex-row gap-4">


                            <!-- Yangi mahsulot qo‘shish tugmasi -->
                            <button id="openModal" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                                Yangi mahsulot qo‘shish
                            </button>

                            <!-- Modal oynasi -->
                            <div id="modal"
                                class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
                                <div class="bg-white mx-auto mt-10 w-full max-w-2xl rounded-lg shadow-lg p-6 transform -translate-y-10 opacity-0 transition-all duration-300"
                                    id="modalContent">

                                    <h2 class="text-xl font-bold mb-4">Yangi Mahsulot Qo‘shish</h2>

                                    <!-- Forma -->
                                    <div
                                        class="space-y-3 max-h-[70vh] overflow-y-auto">

                                        <!-- Kategoriya -->
                                        <div>
                                            <label class="block text-sm font-medium">Kategoriya</label>
                                            <select class="w-full border rounded p-2 mt-1">
                                                <option>Elektronika</option>
                                                <option>Maishiy texnika</option>
                                                <option>Kiyim</option>
                                                <option>Poyabzallar</option>
                                                <option>Aksessuarlar</option>
                                                <option>Go'zallik va parvarish</option>
                                                <option>Salomatlik</option>
                                                <option>Uy ro'zg'or buyumlari</option>
                                                <option>Qurilish va ta'mirlash</option>
                                            </select>
                                        </div>

                                        <!-- Nomi -->
                                        <div>
                                            <label class="block text-sm font-medium">Mahsulot nomi</label>
                                            <input type="text" class="w-full border rounded p-2 mt-1"
                                                placeholder="Mahsulot nomi">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium">Asosiy rasm</label>
                                            <input type="file" class="w-full border rounded p-2 mt-1" accept="image/*">
                                        </div>

                                        <!-- Narxi -->
                                        <div>
                                            <label class="block text-sm font-medium">Asl narxi</label>
                                            <input type="number" class="w-full border rounded p-2 mt-1"
                                                placeholder="Narxi">
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium">Skidka narxi</label>
                                            <input type="number" class="w-full border rounded p-2 mt-1"
                                                placeholder="Skidka narxi">
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium">Boshqa usul narxi</label>
                                            <input type="number" class="w-full border rounded p-2 mt-1"
                                                placeholder="Boshqa usul narxi">
                                        </div>

                                        <!-- Tavsif -->
                                        <div>
                                            <label class="block text-sm font-medium">Tavsif</label>
                                            <textarea class="w-full border rounded p-2 mt-1" rows="3"
                                                placeholder="Mahsulot tavsifi"></textarea>
                                        </div>

                                        <!-- Sharhlar -->
                                        <div>
                                            <label class="block text-sm font-medium">Sharhlar</label>
                                            <textarea class="w-full border rounded p-2 mt-1" rows="3"
                                                placeholder="Sharhlar"></textarea>
                                        </div>

                                        <div class="flex items-center space-x-3">
                                            <label class="flex items-center">
                                                <input type="checkbox" name="original" class="mr-2"> Original
                                            </label>
                                            <div>|</div>
                                            <label class="flex items-center">
                                                <input type="checkbox" name="sold" class="mr-2"> Is sotilgan
                                            </label>
                                            <div>|</div>
                                            <label class="flex items-center">
                                                <input type="checkbox" name="sold" class="mr-2"> Is active
                                            </label>
                                        </div>

                                        <!-- 8 ta rasm yuklash -->
                                        <div>
                                            <div>
                                                <label class="block mb-1 font-medium">Rasmlar (8 tagacha)</label>
                                                <div class="grid grid-cols-4 gap-2">
                                                    <input type="file" class="border p-1 rounded" accept="image/*">
                                                    <input type="file" class="border p-1 rounded" accept="image/*">
                                                    <input type="file" class="border p-1 rounded" accept="image/*">
                                                    <input type="file" class="border p-1 rounded" accept="image/*">
                                                    <input type="file" class="border p-1 rounded" accept="image/*">
                                                    <input type="file" class="border p-1 rounded" accept="image/*">
                                                    <input type="file" class="border p-1 rounded" accept="image/*">
                                                    <input type="file" class="border p-1 rounded" accept="image/*">
                                                </div>
                                            </div>
                                        </div>

                                    </div   >

                                    <!-- Tugmalar -->
                                    <div class="flex justify-end gap-2 mt-4">
                                        <button type="button" id="closeModal"
                                            class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400">Bekor
                                            qilish</button>
                                        <button type="submit"
                                            class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">Saqlash</button>
                                    </div>
                                </div>
                            </div>








                            <div class="relative">
                                <input type="text" placeholder="Mahsulot nomini qidirish..."
                                    class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-72 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                <div
                                    class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 flex items-center justify-center">
                                    <i class="ri-search-line text-gray-400 text-sm"></i>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <div class="relative">
                                    <button
                                        class="border border-gray-300 rounded-lg px-4 py-2 text-sm flex items-center space-x-2 hover:bg-gray-50 !rounded-button whitespace-nowrap"
                                        id="categoryFilter">
                                        <span>Kategoriya</span>
                                        <div class="w-4 h-4 flex items-center justify-center">
                                            <i class="ri-arrow-down-s-line"></i>
                                        </div>
                                    </button>
                                </div>
                                <div class="relative">
                                    <button
                                        class="border border-gray-300 rounded-lg px-4 py-2 text-sm flex items-center space-x-2 hover:bg-gray-50 !rounded-button whitespace-nowrap"
                                        id="statusFilter">
                                        <span>Status</span>
                                        <div class="w-4 h-4 flex items-center justify-center">
                                            <i class="ri-arrow-down-s-line"></i>
                                        </div>
                                    </button>
                                </div>
                                <div class="relative">
                                    <button
                                        class="border border-gray-300 rounded-lg px-4 py-2 text-sm flex items-center space-x-2 hover:bg-gray-50 !rounded-button whitespace-nowrap"
                                        id="priceFilter">
                                        <span>Narx</span>
                                        <div class="w-4 h-4 flex items-center justify-center">
                                            <i class="ri-arrow-down-s-line"></i>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Products Table -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 mt-6 mb-6">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th
                                            class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Mahsulot</th>
                                        <th
                                            class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Kategoriya</th>
                                        <th
                                            class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Narx</th>
                                        <th
                                            class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Zaxira</th>
                                        <th
                                            class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Status</th>
                                        <th
                                            class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Amallar</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200">
                                    {% for items in items %}
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4">
                                            <div class="flex items-center space-x-4">
                                                <img src="{{ items.img.url }}" alt="iPhone 15 Pro Max"
                                                    class="w-16 h-16 rounded-lg object-cover">
                                                <div>
                                                    <p class="font-medium text-gray-900">{{ items.nomi }}</p>
                                                    <p class="text-sm text-gray-500">{{ items.tavsifi }}</p>
                                                </div>
                                            </div>

                                        </td>
                                        <td class="px-6 py-4 text-sm text-gray-900">{{ items.category}}</td>
                                        <td class="px-6 py-4 text-sm font-medium text-gray-900">{{ items.asl_narhi }}
                                            so'm
                                        </td>
                                        <td class="px-6 py-4 text-sm text-gray-900">47 dona</td>
                                        <td class="px-6 py-4">
                                            <span
                                                class="inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Faol</span>
                                        </td>
                                        <td class="px-6 py-4">
                                            <div class="flex items-center space-x-2">
                                                <button class="p-2 text-blue-600 hover:bg-blue-50 rounded-lg">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-edit-line"></i>
                                                    </div>
                                                </button>
                                                <button class="p-2 text-red-600 hover:bg-red-50 rounded-lg">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-delete-bin-line"></i>
                                                    </div>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- Pagination -->
                    <div class="bg-white rounded-xl shadow-sm p-4 border border-gray-200">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <p class="text-sm text-gray-700">
                                    <span class="font-medium">1</span> dan <span class="font-medium">8</span> gacha
                                    ko'rsatilmoqda, jami <span class="font-medium">1,847</span> ta
                                </p>
                                <div class="flex items-center space-x-2">
                                    <span class="text-sm text-gray-700">Sahifada:</span>
                                    <button
                                        class="border border-gray-300 rounded px-3 py-1 text-sm hover:bg-gray-50 !rounded-button whitespace-nowrap"
                                        id="itemsPerPage">
                                        <span>10</span>
                                        <div class="inline-block w-4 h-4 ml-1">
                                            <i class="ri-arrow-down-s-line"></i>
                                        </div>
                                    </button>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button
                                    class="px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 disabled:opacity-50 !rounded-button whitespace-nowrap"
                                    disabled>
                                    <div class="w-4 h-4 flex items-center justify-center">
                                        <i class="ri-arrow-left-s-line"></i>
                                    </div>
                                </button>
                                <button
                                    class="px-3 py-2 bg-primary text-white rounded-lg text-sm !rounded-button whitespace-nowrap">1</button>
                                <button
                                    class="px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 !rounded-button whitespace-nowrap">2</button>
                                <button
                                    class="px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 !rounded-button whitespace-nowrap">3</button>
                                <span class="px-2 text-gray-500">...</span>
                                <button
                                    class="px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 !rounded-button whitespace-nowrap">185</button>
                                <button
                                    class="px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 !rounded-button whitespace-nowrap">
                                    <div class="w-4 h-4 flex items-center justify-center">
                                        <i class="ri-arrow-right-s-line"></i>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
            </main>
        </div>
    </div>
    <script id="searchFunctionality">
        document.addEventListener('DOMContentLoaded', function () {
            const searchInputs = document.querySelectorAll('input[type="text"]');
            searchInputs.forEach(input => {
                input.addEventListener('input', function (e) {
                    console.log('Qidiruv: ', e.target.value);
                });
            });
        });
    </script>
    <script id="filterFunctionality">
        document.addEventListener('DOMContentLoaded', function () {
            const filterButtons = document.querySelectorAll('#categoryFilter, #statusFilter, #priceFilter, #itemsPerPage');
            filterButtons.forEach(button => {
                button.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Filter bosildi: ', this.id);
                });
            });
        });
    </script>
    <script id="actionButtons">
        document.addEventListener('DOMContentLoaded', function () {
            const editButtons = document.querySelectorAll('button[class*="text-blue-600"]');
            const deleteButtons = document.querySelectorAll('button[class*="text-red-600"]');
            editButtons.forEach(button => {
                button.addEventListener('click', function () {
                    console.log('Tahrirlash tugmasi bosildi');
                });
            });
            deleteButtons.forEach(button => {
                button.addEventListener('click', function () {
                    if (confirm('Mahsulotni o\'chirmoqchimisiz?')) {
                        console.log('Mahsulot o\'chirildi');
                    }
                });
            });
        });
    </script>
    <script id="paginationFunctionality">
        document.addEventListener('DOMContentLoaded', function () {
            const paginationButtons = document.querySelectorAll('button[class*="px-3 py-2"]');
            paginationButtons.forEach(button => {
                button.addEventListener('click', function () {
                    if (!this.disabled) {
                        console.log('Sahifa o\'zgartirildi');
                    }
                });
            });
        });


        // yangi mahsulot qoshish oynasi
        // Modal elementlarini olish
        const openBtn = document.getElementById('openModal');   // Modal ochish tugmasi
        const closeBtn = document.getElementById('closeModal'); // Modal yopish tugmasi
        const modal = document.getElementById('modal');         // Modal fon qismi
        const modalContent = document.getElementById('modalContent'); // Modal ichki qismi

        // Modalni ochish
        if (openBtn) {
            openBtn.addEventListener('click', () => {
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modalContent.classList.remove('-translate-y-10', 'opacity-0');
                }, 10);
            });
        }

        // Modalni yopish
        if (closeBtn) {
            closeBtn.addEventListener('click', () => {
                modalContent.classList.add('-translate-y-10', 'opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            });
        }

        // Modal tashqarisiga bosilganda yopish
        if (modal) {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeBtn.click();
                }
            });
        }


    </script>



</body>

</html>